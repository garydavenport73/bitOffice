function _replaceReallCommmasInCSV(c,d){let a="",b=-1;for(let f=0;f<c.length;f++){let e=c.charAt(f);e==='"'?(b=b*-1,a+=e):e===","?b===-1?a+=d:a+=e:a+=e}return a}function _replaceRealNewlinesInCSV(c,d){let a="",b=-1;for(let f=0;f<c.length;f++){let e=c.charAt(f);e==='"'?(b=b*-1,a+=e):e==="\n"?b===-1?a+=d:a+=e:a+=e}return a}function _replaceRealCommasAndRealNewlinesInCSV(c,d,e){let a="",b=-1;for(let g=0;g<c.length;g++){let f=c.charAt(g);f==='"'?(b=b*-1,a+=f):f===","?b===-1?a+=d:a+=f:f==="\n"?b===-1?a+=e:a+=f:a+=f}return a}function tokenMaker(c){let a="",b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(let d=0;d<c;d++)a+=b[Math.floor(Math.random()*b.length)];return a}function escapeRegExp(a){return a.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')}function myReplaceAll(a,b,c){return a.replace(new RegExp(escapeRegExp(b),'g'),()=>c)}function getTokenNotInString(b,c=16){let a=tokenMaker(16);while(b.indexOf(a)!==-1)a=tokenMaker(16);return a}function csvToArrays(a){a=a.trim();let b=getTokenNotInString(a);a=a.split("\r").join(b),a=a.split(b+"\n").join("\n");let c=[];a=a.trim();let d=getTokenNotInString(a);a=_replaceReallCommmasInCSV(a,d);let e=getTokenNotInString(a);a=_replaceRealNewlinesInCSV(a,e);let f=a.split(e);for(let b=0;b<f.length;b++){let a=f[b].split(d);for(let b=0;b<a.length;b++)a[b][a[b].length-1]==='"'&&(a[b]=a[b].slice(0,a[b].length-1)),a[b][0]==='"'&&(a[b]=a[b].slice(1,a[b].length)),a[b]=a[b].split('""').join('"');c.push(a)}return c}function arraysToCSV(b,c="\n"){let a="";for(let d=0;d<b.length;d++){for(let c=0;c<b[d].length;c++)a+='"',a+=b[d][c].split('"').join('""'),a+='",';a=a.slice(0,-1)+c}return a=a.slice(0,-c.length),a}function arraysToJSON(b,d=!0){let a=[],e=[],c={};if(d===!0)for(let d=0;d<b[0].length;d++){let c=b[0][d],e=0;while(a.includes(c))console.log("WARNING - Duplicate header found: "+c),e+=1,c=c+e.toString(),console.log("Attempting rename to: "+c);a.push(c)}else for(let c=0;c<b[0].length;c++)a.push("header"+c.toString());d===!0?startRow=1:startRow=0;for(let c=startRow;c<b.length;c++){let d={};for(let e=0;e<a.length;e++)d[a[e]]=b[c][e];e.push(d)}return c.headers=a,c.data=e,c}function JSONToArrays(d,e=!0){let a=d.headers,b=d.data,c=[];if(e===!0){let b=[];for(let c=0;c<a.length;c++)b.push(a[c].toString());c.push(b)}for(i=0;i<b.length;i++){let d=[];for(let c=0;c<a.length;c++)b[i][a[c]]===void 0?d.push(""):d.push(b[i][a[c]].toString());c.push(d)}return c}function unorderedJSONToArrays(c,d=!0){let a={};a.data=c;let b=[];for(rowObject of c)for(const a in rowObject)b.includes(a)||b.push(a.toString());return a.headers=b,JSONToArrays(a,d)}function csvToJSON(b,c=!0){let a=csvToArrays(b);console.log(a);let d=arraysToJSON(a,c);return d}function JSONToCSV(a,b=!0,c="\n"){let d=JSONToArrays(a,b),e=arraysToCSV(d,c);return e}function unorderedJSONToCSV(a,b=!0){let c=unorderedJSONToArrays(a,b),d=arraysToCSV(c);return d}